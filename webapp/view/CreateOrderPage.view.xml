<mvc:View xmlns:tnt="sap.tnt" 
    controllerName="casestudygroup2.controller.CreateOrderPage"
	xmlns:l="sap.ui.layout"
	xmlns:f="sap.ui.layout.form"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns:core="sap.ui.core"
	xmlns="sap.m">
    <Page id="page1"
        floatingFooter="true"
        title="Create Order" >
        <content>
            <VBox id="vbox" class="sapUiSmallMargin">
                <f:SimpleForm id="SimpleFormToolbar"
                    editable="true"
                    layout="ResponsiveGridLayout"
                    labelSpanXL="4"
                    labelSpanL="3"
                    labelSpanM="4"
                    labelSpanS="12"
                    adjustLabelSpan="false"
                    emptySpanXL="0"
                    emptySpanL="4"
                    emptySpanM="0"
                    emptySpanS="0"
                    columnsXL="2"
                    columnsL="1"
                    columnsM="1"
                    singleContainerFullSize="false"
                    ariaLabelledBy="Title1" >
                    
                    <f:toolbar>
                        <Toolbar id="TB1">
                            <Title id="Title1" text="{i18n>headerOrderDetail}"/>         
                        </Toolbar>
                    </f:toolbar>
                    <f:content>
                        <Toolbar id="toolBar1" ariaLabelledBy="Title2">
                            <ToolbarSpacer id="toolSpacer1" />
                        </Toolbar>
                        <Label id="receivingPlant" text="{i18n>main.RecPlant}" />
                        <Input
                            id="RecPlantInput"
                            type="Text"
                            value=""
                            showValueHelp="true"
                            valueHelpRequest="onReceivingPlant"                      
                            width="28rem"
                            required="true" />

                        <Label id="deliveringPlant" text="{i18n>main.DelPlant}" />
                        <Input
                            id="DelPlantInput"
                            type="Text"
                            value=""
                            showValueHelp="true"
                            valueHelpRequest="onDeliveringPlant"
                            class="sapUiSmallMarginBottom"
                            width="28rem" 
                            required="true"/>
                    </f:content>
                </f:SimpleForm>

                <Panel id="productPanelCO" 
                headerText="{parts: [{path: 'OrderItems'}], formatter: '.formatter.productCounter'}"
                class="sapUIResponsiveMargin" 
                width="auto">
                <headerToolbar>
                    <Toolbar id="tbProductCO">
                        <Title id="titleProductCO" text="{parts: [{path: 'OrderItems'}], formatter: '.formatter.productCounter'}" />
                        <ToolbarSpacer id="tbSpacerProductCO"/>
                        <Button id="btnAddProductCO" icon="sap-icon://add" type="Transparent" press="onAddProduct" tooltip="{i18n>addProduct}" />
                        <Button id="btnDeleteProductCO" icon="sap-icon://delete" type="Transparent" press="onDeleteProduct" tooltip="{i18n>deleteProduct}" />
                    </Toolbar>
                </headerToolbar>
                <Table id="tblProductCO" items="{OrderItems}" inset="false" mode="MultiSelect">
                    <columns>
                        <Column id="colProductNameCO"><Text id="txtColProductNameCO" text="{i18n>productName}" /></Column>
                        <Column id="colQuantityCO"><Text id="txtColQuantityCO" text="{i18n>quantity}" /></Column>
                        <Column id="colPricePerQtyCO"><Text id="txtColPricePerQtyCO" text="{i18n>pricePerQuantity}" /></Column>
                        <Column id="colTotalPriceCO"><Text id="txtColTotalPriceCO" text="{i18n>totalPrice}" /></Column>
                    </columns>
                    <items>
                        <ColumnListItem id="cliProductCO" type="Active">
                            <cells>
                                <Text id="txtProductNameCO" text="{ProductName}" />
                                <Text id="txtQuantityCO" text="{Quantity}" />
                                <Text id="txtPricePerQtyCO" text="{PricePerQty}" />
                                <Text id="txtProductTotalPriceCO" text="{parts: [{ path: 'Quantity' }, { path: 'PricePerQty' }], formatter: '.formatter.totalPriceFormatter'}" />
                            </cells>
                        </ColumnListItem>
                    </items>
                </Table>
            </Panel>
                                 
                </VBox>         
            </content>       
        <footer>
            <Toolbar id="toolbarFooter">
               <ToolbarSpacer id="footerToolBar"/>
                <Button id="save"   type="Emphasized" text="{i18n>save}" press="onPress" />
                <Button id="cancel" type="Reject"     text="{i18n>cancel}" press="onPress" />
            </Toolbar>
		</footer>
    </Page>
</mvc:View>
