<mvc:View controllerName="casestudygroup2.controller.OrderMainPage"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:fb="sap.ui.comp.filterbar"
    xmlns:f="sap.f">
    <Page id="page">
        <f:DynamicPage id="dynamicPage" headerExpanded="true">
        <f:header>
        <f:DynamicPageHeader id="dynamicPageHeader">
        <f:content>

        <fb:FilterBar id="filterBar" persistencyKey="myPersKey" useToolbar="false" search=".onSearchFilter" showClearOnFB="true" showFilterConfiguration="false" clear=".onClear">
            <fb:filterGroupItems>
                <fb:FilterGroupItem id="filterGroupItem1" name="OrderNumber" label="{i18n>main.orderNumber}" groupName="Group1" visibleInFilterBar="true">
                    <fb:control>
                        <Input id="oderNumberInput" placeholder="Order Number"/> 
                    </fb:control>
                </fb:FilterGroupItem>
                
                <fb:FilterGroupItem id="filterGroupItem2" name="CreationDate" label="Creation Date" groupName="Group1" visibleInFilterBar="true">
                    <fb:control>
                        <DateRangeSelection id="creationDateInput" value="{filters>/CreationDate}" placeholder="Creation Date" valueFormat="yyyy-MM-dd"/>
                    </fb:control>
                </fb:FilterGroupItem>

                <fb:FilterGroupItem id="filterGroupItem3" name="Status" label="Status" groupName="Group1" visibleInFilterBar="true">
                    <fb:control>
                        <MultiComboBox id="statusMCB" name="Status MCB" >        
                            <core:Item id="itemCreated" key="Created" text="{i18n>main.Created}"/>
                            <core:Item id="itemReleased" key="Released" text="{i18n>main.Released}"/>
                            <core:Item id="itemPartialComp" key="Partially Completed" text="{i18n>main.PartiallyCompleted}"/>
                            <core:Item id="itemDelivered" key="Delivered" text="{i18n>main.Delivered}" />                       
                        </MultiComboBox>
                    </fb:control>
                </fb:FilterGroupItem>
            </fb:filterGroupItems>
        </fb:FilterBar>
        </f:content>

        </f:DynamicPageHeader>
        </f:header>        

        <f:content>

        <VBox id="idVBoxOrders" class="sapUiSmallMarginTop sapUiSmallMarginBeginEnd sapUiSmallMarginBottom">    
        <Table id="tblOrders" mode="MultiSelect" items="{ path: '/Orders', sorter: { path: 'OrderID'} }" updateFinished=".formatter.onUpdateOrders"> 
        <headerToolbar>
            <Toolbar id="tbOrder">
                <Text id="txtOrder" text="Orders"/>
                <ToolbarSpacer id="tbSpacer" />
                <Button id="btnAdd" icon="sap-icon://add" tooltip="Create" press="onPressCreate" />
                <Button id="btnDelete" icon="sap-icon://delete" tooltip="Delete" press="onPressDelete" /> 
            </Toolbar>
        </headerToolbar>

        <columns>
            <Column id="colIDOrderNum">
                <Text id="txtOrderNum" text="Order Number" />
            </Column>
            <Column id="colIDCreateDate">
                <Text id="txtCreateDate" text="Creation Date" />
            </Column>
            <Column id="colIDRecPlant">
                <Text id="txtRecPlant" text="Receiving Plant" />
            </Column>
            <Column id="colIDDelPlant">
                <Text id="txtDelPlant" text="Delivering Plant" />
            </Column>
            <Column id="colIDStatus">
                <Text id="txtStatus" text="Status" />
            </Column>
        </columns>

        <items>
            <ColumnListItem id="clistOrders" vAlign="Middle" type="Navigation" press=".onPressOrder">
                <cells>
                    <Text id="colOrderNum" text="{OrderID}"/>
                    <Text id="colCreateDat" text="{path: 'CreationDate', formatter: '.formatter.dateFormatter'}"/>
                    <Text id="colRecPlant" text="{RecPlantID} - {RecPlantDesc} "/>
                    <Text id="colDelPlant" text="{DelPlantID} - {DelPlantDesc}" /> 
                <ObjectStatus id="objStatus" text="{Status}" state="{ path: 'Status', formatter: '.formatter.statusValueState' }" />                                      
                </cells>
            </ColumnListItem>
        </items>
        </Table>        
</VBox>        
       </f:content>

    </f:DynamicPage>

    </Page>
</mvc:View>