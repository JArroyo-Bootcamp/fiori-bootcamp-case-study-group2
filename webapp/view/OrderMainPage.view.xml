<mvc:View controllerName="casestudygroup2.controller.OrderMainPage"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:fb="sap.ui.comp.filterbar"
    xmlns:f="sap.f">
    <Page id="page" title="{i18n>title}">
        <f:DynamicPage id="dynamicPage" headerExpanded="true">
        <f:header>
        <f:DynamicPageHeader id="dynamicPageHeader">
        <f:content>

        <fb:FilterBar id="filterBar" persistencyKey="myPersKey" useToolbar="false" search=".onSearch" filterChange=".onFilterChange" afterVariantLoad=".onAfterVariantLoad" showClearOnFB="true" showFilterConfiguration="false" clear=".onClear">
            <fb:filterGroupItems>
                <fb:FilterGroupItem id="filterGroupItem1" name="OrderNumber" label="Order Number" groupName="Group1" visibleInFilterBar="true">
                    <fb:control>
                        <Input id="oderNumberInput" placeholder="Order Number"/> 
                    </fb:control>
                </fb:FilterGroupItem>
                
                <fb:FilterGroupItem id="filterGroupItem2" name="CreationDate" label="Creation Date" groupName="Group1" visibleInFilterBar="true">
                    <fb:control>
                        <DatePicker id="creationDateInput" value="{filters>/CreationDate}" placeholder="Creation Date"/>
                    </fb:control>
                </fb:FilterGroupItem>

                <fb:FilterGroupItem id="filterGroupItem3" name="Status" label="Status" groupName="Group1" visibleInFilterBar="true">
                    <fb:control>
                        <MultiComboBox id="statusMCB" name="Status MCB" selectionChange=".onStatusChange">        
                            <core:Item id="itemCreated" key="created" text="Created"/>
                            <core:Item id="itemReleased" key="released" text="Released"/>
                            <core:Item id="itemPartialComp" key="partialcomp" text="Partially Completed"/>
                            <core:Item id="itemDelivered" key="delivered" text="Delivered"/>                       
                        </MultiComboBox>
                    </fb:control>
                </fb:FilterGroupItem>
            </fb:filterGroupItems>
        </fb:FilterBar>
        </f:content>

        </f:DynamicPageHeader>
        </f:header>        

        <f:content>
        <Table id="tblOrders" mode="MultiSelect" items="{ path: '/Orders', sorter: { path: 'OrderID'} }"> 
        <headerToolbar>
            <Toolbar id="tbOrder">
                <Text id="txtOrder" text="Orders"/>
                <ToolbarSpacer id="tbSpacer" />
                <Button id="btnAdd" icon="sap-icon://add" tooltip="Create" press="onPressCreate" />
                <Button id="btnDelete" icon="sap-icon://delete" tooltip="Delete" press="onPressDelete" /> 
            </Toolbar>
        </headerToolbar>

        <columns>
            <Column id="colIDOrderNum">
                <Text id="txtOrderNum" text="Order Number" />
            </Column>
            <Column id="colIDCreateDate">
                <Text id="txtCreateDate" text="Creation Date" />
            </Column>
            <Column id="colIDRecPlant">
                <Text id="txtRecPlant" text="Receiving Plant" />
            </Column>
            <Column id="colIDDelPlant">
                <Text id="txtDelPlant" text="Delivering Plant" />
            </Column>
            <Column id="colIDStatus">
                <Text id="txtStatus" text="Status" />
            </Column>
        </columns>

        <items>
            <ColumnListItem id="clistOrders" vAlign="Middle" type="Navigation" press="onPressOrder">
                <cells>
                    <Text id="colOrderNum" text="{OrderID}"/>
                    <Text id="colCreateDat" text="{CreationDate}"/>
                    <Text id="colRecPlant" text="{RecPlantID} - {RecPlantDesc} "/>
                    <Text id="colDelPlant" text="{DelPlantID} - {DelPlantDesc}" /> 
                <ObjectStatus id="objStatus" text="{Status}" state="{ path: 'Status', formatter: '.formatter.statusValueState' }" />                                      
                </cells>
            </ColumnListItem>
        </items>
        </Table>        
       </f:content>

    </f:DynamicPage>
    </Page>
</mvc:View>